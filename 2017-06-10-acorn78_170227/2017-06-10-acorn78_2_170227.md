---
layout: post
title: Python - 17/02/27 (2)
category: acorn수업
---

# numpy, pandas 등등

---

```python
import numpy as np
```

<br>

```python
np.ones([10, 5]).shape
```




    (10, 5)


<br>

```python
np.ones([3, 4, 5], dtype = np.float64)
```




    array([[[ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.]],

           [[ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.]],

           [[ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.],
            [ 1.,  1.,  1.,  1.,  1.]]])


<br>

```python
np.ones([3, 4, 5], dtype = np.float64).strides
```




    (160, 40, 8)


<br>

```python
x = np.ones([1, 1])
x.strides
```




    (8, 8)

<br>

## 데이터 읽어들이기


```python
import pandas as pd
import numpy as np
import json
import os
import matplotlib.pyplot as plt
```

<br>

```python
path = 'usagov_bitly_data2012-03-16-1331923249.txt'
records = [json.loads(line) for line in open(path)]
records[0]['tz']
```




    u'America/New_York'


<br>

```python
s = pd.Series([1, 3, 5, np.nan, 6, 8])
dates = pd.date_range('20130101', periods = 6)
dates
```




    DatetimeIndex(['2013-01-01', '2013-01-02', '2013-01-03', '2013-01-04',
                   '2013-01-05', '2013-01-06'],
                  dtype='datetime64[ns]', freq='D')


<br>

```python
df = pd.DataFrame(np.random.randn(6, 4), index = dates, columns = list('ABCD'))
df
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2013-01-01</th>
      <td>0.950492</td>
      <td>0.922032</td>
      <td>0.821627</td>
      <td>1.019339</td>
    </tr>
    <tr>
      <th>2013-01-02</th>
      <td>-1.249817</td>
      <td>0.606123</td>
      <td>2.043135</td>
      <td>0.850740</td>
    </tr>
    <tr>
      <th>2013-01-03</th>
      <td>0.052320</td>
      <td>-1.117715</td>
      <td>-0.926410</td>
      <td>-0.628798</td>
    </tr>
    <tr>
      <th>2013-01-04</th>
      <td>1.321216</td>
      <td>0.035472</td>
      <td>0.953792</td>
      <td>1.593393</td>
    </tr>
    <tr>
      <th>2013-01-05</th>
      <td>0.407223</td>
      <td>0.307209</td>
      <td>0.979855</td>
      <td>0.413357</td>
    </tr>
    <tr>
      <th>2013-01-06</th>
      <td>-1.453145</td>
      <td>-1.611736</td>
      <td>0.629192</td>
      <td>0.300264</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
sdata = {'Ohio':35000, 'Texas':71000, 'Oregon':116000, 'Utah':5000}
obj3 = pd.Series(sdata)
obj3
```




    Ohio       35000
    Oregon    116000
    Texas      71000
    Utah        5000
    dtype: int64


<br>

```python
states = ['California', 'Ohio', 'Oregon', 'Texas']
obj4 = pd.Series(sdata, index = states)
obj4
```




    California       NaN
    Ohio           35000
    Oregon        116000
    Texas          71000
    dtype: float64


<br>

```python
obj3 + obj4
```




    California       NaN
    Ohio           70000
    Oregon        232000
    Texas         142000
    Utah             NaN
    dtype: float64


<br>

```python
import sys
reload(sys)
sys.getdefaultencoding()
```

<br>

```python
sys.getdefaultencoding()
```




    'ascii'


<br>

```python
sys.setdefaultencoding()
```

<br>

```python
data = {'state':['경기', '강원', '서울', '충북', '인천'],
       'year':[2000, 2001, 2002, 2001, 2002], 'pop':[1.5, 1.7, 3.6, 2.4, 2.9]}
frame2 = pd.DataFrame(data, columns = ['year', 'state', 'pop', 'debt'],
                      index = ['one', 'two', 'three', 'four', 'five'])
```

<br>

```python
frame2
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>state</th>
      <th>pop</th>
      <th>debt</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>one</th>
      <td>2000</td>
      <td>경기</td>
      <td>1.5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>two</th>
      <td>2001</td>
      <td>강원</td>
      <td>1.7</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>three</th>
      <td>2002</td>
      <td>서울</td>
      <td>3.6</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>four</th>
      <td>2001</td>
      <td>충북</td>
      <td>2.4</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>five</th>
      <td>2002</td>
      <td>인천</td>
      <td>2.9</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
frame2['state']
```




    one      경기
    two      강원
    three    서울
    four     충북
    five     인천
    Name: state, dtype: object


<br>

```python
frame2.ix['three']
```




    year     2002
    state      서울
    pop       3.6
    debt      NaN
    Name: three, dtype: object


<br>

```python
frame2.debt
```




    one      NaN
    two      NaN
    three    NaN
    four     NaN
    five     NaN
    Name: debt, dtype: object


<br>

```python
val = pd.Series([-1.2, -1.5, -1.7], index = ['two', 'four', 'five'])
frame2.debt = val
```

<br>

```python
frame2
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>state</th>
      <th>pop</th>
      <th>debt</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>one</th>
      <td>2000</td>
      <td>경기</td>
      <td>1.5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>two</th>
      <td>2001</td>
      <td>강원</td>
      <td>1.7</td>
      <td>-1.2</td>
    </tr>
    <tr>
      <th>three</th>
      <td>2002</td>
      <td>서울</td>
      <td>3.6</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>four</th>
      <td>2001</td>
      <td>충북</td>
      <td>2.4</td>
      <td>-1.5</td>
    </tr>
    <tr>
      <th>five</th>
      <td>2002</td>
      <td>인천</td>
      <td>2.9</td>
      <td>-1.7</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
frame2['eastern'] = frame2.state == '서울'
```

<br>

```python
frame2
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>state</th>
      <th>pop</th>
      <th>debt</th>
      <th>eastern</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>one</th>
      <td>2000</td>
      <td>경기</td>
      <td>1.5</td>
      <td>NaN</td>
      <td>False</td>
    </tr>
    <tr>
      <th>two</th>
      <td>2001</td>
      <td>강원</td>
      <td>1.7</td>
      <td>-1.2</td>
      <td>False</td>
    </tr>
    <tr>
      <th>three</th>
      <td>2002</td>
      <td>서울</td>
      <td>3.6</td>
      <td>NaN</td>
      <td>True</td>
    </tr>
    <tr>
      <th>four</th>
      <td>2001</td>
      <td>충북</td>
      <td>2.4</td>
      <td>-1.5</td>
      <td>False</td>
    </tr>
    <tr>
      <th>five</th>
      <td>2002</td>
      <td>인천</td>
      <td>2.9</td>
      <td>-1.7</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
del frame2['eastern']
```

<br>

```python
frame2.columns
```




    Index([u'year', u'state', u'pop', u'debt'], dtype='object')


<br>

```python
left = pd.DataFrame({'key':['foo', 'foo'], 'lval':[1, 2]})
right = pd.DataFrame({'key':['foo', 'foo'], 'rval':[4, 5]})
leftright = pd.merge(left, right, on = 'key')
leftright
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>lval</th>
      <th>rval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>foo</td>
      <td>1</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>foo</td>
      <td>2</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>foo</td>
      <td>2</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
left
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>lval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>foo</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>



<br>

```python
right
```





<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key</th>
      <th>rval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>foo</td>
      <td>4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>foo</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
s1 = pd.Series([7.3, -2.5, 3.4, 2.5], index = ['a', 'c', 'd', 'e'])
s2 = pd.Series([-2.1, 3.6, -1.5, 4, 3.1], index = ['a', 'c', 'e', 'f', 'g'])
s1 + s2
```




    a    5.2
    c    1.1
    d    NaN
    e    1.0
    f    NaN
    g    NaN
    dtype: float64


<br>

```python
s1.add(s2, fill_value = 0)
```




    a    5.2
    c    1.1
    d    3.4
    e    1.0
    f    4.0
    g    3.1
    dtype: float64


<br>

```python
frame = pd.DataFrame((np.random.randn(4, 3)), columns = list(['rain', 'income', 'tax']),
                    index = ['seoul', 'daejun', 'incheon', 'daegu'])
frame
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rain</th>
      <th>income</th>
      <th>tax</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>seoul</th>
      <td>-1.136697</td>
      <td>-0.295022</td>
      <td>0.763787</td>
    </tr>
    <tr>
      <th>daejun</th>
      <td>-0.829821</td>
      <td>0.958968</td>
      <td>-0.838692</td>
    </tr>
    <tr>
      <th>incheon</th>
      <td>-0.173976</td>
      <td>-0.068527</td>
      <td>0.960949</td>
    </tr>
    <tr>
      <th>daegu</th>
      <td>0.943293</td>
      <td>0.691408</td>
      <td>-2.323611</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
np.abs(frame)
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rain</th>
      <th>income</th>
      <th>tax</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>seoul</th>
      <td>1.136697</td>
      <td>0.295022</td>
      <td>0.763787</td>
    </tr>
    <tr>
      <th>daejun</th>
      <td>0.829821</td>
      <td>0.958968</td>
      <td>0.838692</td>
    </tr>
    <tr>
      <th>incheon</th>
      <td>0.173976</td>
      <td>0.068527</td>
      <td>0.960949</td>
    </tr>
    <tr>
      <th>daegu</th>
      <td>0.943293</td>
      <td>0.691408</td>
      <td>2.323611</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
f = lambda x : x.max() - x.min()
frame.apply(f)
```




    rain      2.07999
    income    1.25399
    tax       3.28456
    dtype: float64


<br>

```python
frame.apply(f, axis = 1)
```




    seoul      1.900483
    daejun     1.797660
    incheon    1.134925
    daegu      3.266905
    dtype: float64


<br>

```python
def f1(x):
    return pd.Series([x.min(), x.max()], index = ['min', 'max'])
frame.apply(f1)
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rain</th>
      <th>income</th>
      <th>tax</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>min</th>
      <td>-1.136697</td>
      <td>-0.295022</td>
      <td>-2.323611</td>
    </tr>
    <tr>
      <th>max</th>
      <td>0.943293</td>
      <td>0.958968</td>
      <td>0.960949</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
# applymap - 각각 elements가 들어감
format = lambda x : '%.2f' % x
frame.applymap(format)
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rain</th>
      <th>income</th>
      <th>tax</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>seoul</th>
      <td>-1.14</td>
      <td>-0.30</td>
      <td>0.76</td>
    </tr>
    <tr>
      <th>daejun</th>
      <td>-0.83</td>
      <td>0.96</td>
      <td>-0.84</td>
    </tr>
    <tr>
      <th>incheon</th>
      <td>-0.17</td>
      <td>-0.07</td>
      <td>0.96</td>
    </tr>
    <tr>
      <th>daegu</th>
      <td>0.94</td>
      <td>0.69</td>
      <td>-2.32</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
# map - Series가 들어감
frame.rain.map(format)
```




    seoul      -1.14
    daejun     -0.83
    incheon    -0.17
    daegu       0.94
    Name: rain, dtype: object

<br>

## 브로드캐스팅 broadcasting


```python
df = pd.DataFrame({'a':[0, 1, 2, 3], 'b':[0, 1, 2, 3], 'c':[0, 1, 2, 3]})
#df = pd.DataFrame([[0, 1, 2, 3], [0, 1, 2, 3], [0, 1, 2, 3]])
df
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
sr = pd.Series([1, 2, 3], index = ['a', 'b', 'c'])
#sr = pd.Series([1, 2, 3])
sr
```




    a    1
    b    2
    c    3
    dtype: int64


<br>

```python
df + sr
#df.add(sr, axis = 0)
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
df.add(sr, axis = 1)
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
df2 = pd.Series([1, 2, 3, 4])
df2
```




    0    1
    1    2
    2    3
    3    4
    dtype: int64


<br>

```python
df.add(df2, axis = 0)
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>5</td>
      <td>5</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7</td>
      <td>7</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
df = pd.DataFrame([[1.4, np.nan], [7.1, -4.5], [np.nan, np.nan], [0.75, -1.3]],
                 index = ['a', 'b', 'c', 'd'], columns = ['one', 'two'])
df
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>1.40</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>b</th>
      <td>7.10</td>
      <td>-4.5</td>
    </tr>
    <tr>
      <th>c</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>d</th>
      <td>0.75</td>
      <td>-1.3</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
df.sum()
```




    one    9.25
    two   -5.80
    dtype: float64


<br>

```python
df.sum(axis = 1)
```




    a    1.40
    b    2.60
    c     NaN
    d   -0.55
    dtype: float64


<br>

```python
df.sum(axis = 1, skipna = False)
```




    a     NaN
    b    2.60
    c     NaN
    d   -0.55
    dtype: float64


<br>

```python
df.mean(axis = 1, skipna = False)
```




    a      NaN
    b    1.300
    c      NaN
    d   -0.275
    dtype: float64

<br>

## hierarchical merge


```python
left = pd.DataFrame({'key1':['b', 'b', 'a'], 'lval':range(3), 'key2':['one', 'two', 'one']})
right = pd.DataFrame({'key1':['b', 'b', 'a', 'a'], 'rval':range(4),
                     'key2':['one', 'two', 'one', 'two']})
pd.merge(left, right, on = ['key1', 'key2'], how = 'outer')
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>key1</th>
      <th>key2</th>
      <th>lval</th>
      <th>rval</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>b</td>
      <td>one</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>b</td>
      <td>two</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>a</td>
      <td>one</td>
      <td>2</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>a</td>
      <td>two</td>
      <td>NaN</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
data = pd.DataFrame(np.arange(6).reshape(2, 3),
                    index = pd.Index(['index1', 'index2'], name = 'state'),
                    columns = pd.Index(['one', 'two', 'three'], name = 'number'))
data
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>number</th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
    </tr>
    <tr>
      <th>state</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>index1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>index2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
result = data.stack('number')
result
```




    state   number
    index1  one       0
            two       1
            three     2
    index2  one       3
            two       4
            three     5
    dtype: int64


<br>

```python
result.unstack()
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>number</th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
    </tr>
    <tr>
      <th>state</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>index1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>index2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
result.unstack('state')
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>state</th>
      <th>index1</th>
      <th>index2</th>
    </tr>
    <tr>
      <th>number</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>one</th>
      <td>0</td>
      <td>3</td>
    </tr>
    <tr>
      <th>two</th>
      <td>1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>three</th>
      <td>2</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
data = pd.read_csv('macrodata.csv')
```

<br>

```python
pd.read_csv('macrodata.csv').head()
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>quarter</th>
      <th>realgdp</th>
      <th>realcons</th>
      <th>realinv</th>
      <th>realgovt</th>
      <th>realdpi</th>
      <th>cpi</th>
      <th>m1</th>
      <th>tbilrate</th>
      <th>unemp</th>
      <th>pop</th>
      <th>infl</th>
      <th>realint</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1959</td>
      <td>1</td>
      <td>2710.349</td>
      <td>1707.4</td>
      <td>286.898</td>
      <td>470.045</td>
      <td>1886.9</td>
      <td>28.98</td>
      <td>139.7</td>
      <td>2.82</td>
      <td>5.8</td>
      <td>177.146</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1959</td>
      <td>2</td>
      <td>2778.801</td>
      <td>1733.7</td>
      <td>310.859</td>
      <td>481.301</td>
      <td>1919.7</td>
      <td>29.15</td>
      <td>141.7</td>
      <td>3.08</td>
      <td>5.1</td>
      <td>177.830</td>
      <td>2.34</td>
      <td>0.74</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1959</td>
      <td>3</td>
      <td>2775.488</td>
      <td>1751.8</td>
      <td>289.226</td>
      <td>491.260</td>
      <td>1916.4</td>
      <td>29.35</td>
      <td>140.5</td>
      <td>3.82</td>
      <td>5.3</td>
      <td>178.657</td>
      <td>2.74</td>
      <td>1.09</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1959</td>
      <td>4</td>
      <td>2785.204</td>
      <td>1753.7</td>
      <td>299.356</td>
      <td>484.052</td>
      <td>1931.3</td>
      <td>29.37</td>
      <td>140.0</td>
      <td>4.33</td>
      <td>5.6</td>
      <td>179.386</td>
      <td>0.27</td>
      <td>4.06</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1960</td>
      <td>1</td>
      <td>2847.699</td>
      <td>1770.5</td>
      <td>331.722</td>
      <td>462.199</td>
      <td>1955.5</td>
      <td>29.54</td>
      <td>139.6</td>
      <td>3.50</td>
      <td>5.2</td>
      <td>180.007</td>
      <td>2.31</td>
      <td>1.19</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
periods = pd.PeriodIndex(year = data.year, quarter = data.quarter, name = 'date')
periods
```




    PeriodIndex(['1959Q1', '1959Q2', '1959Q3', '1959Q4', '1960Q1', '1960Q2',
                 '1960Q3', '1960Q4', '1961Q1', '1961Q2',
                 ...
                 '2007Q2', '2007Q3', '2007Q4', '2008Q1', '2008Q2', '2008Q3',
                 '2008Q4', '2009Q1', '2009Q2', '2009Q3'],
                dtype='int64', name=u'date', length=203, freq='Q-DEC')


<br>

```python
data = pd.DataFrame(data.to_records(), columns = pd.Index(['realgdp', 'infl', 'unemp'], name = 'item'),
                   index = periods.to_timestamp('D', 'end'))
data[:10]
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>item</th>
      <th>realgdp</th>
      <th>infl</th>
      <th>unemp</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1959-03-31</th>
      <td>2710.349</td>
      <td>0.00</td>
      <td>5.8</td>
    </tr>
    <tr>
      <th>1959-06-30</th>
      <td>2778.801</td>
      <td>2.34</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>1959-09-30</th>
      <td>2775.488</td>
      <td>2.74</td>
      <td>5.3</td>
    </tr>
    <tr>
      <th>1959-12-31</th>
      <td>2785.204</td>
      <td>0.27</td>
      <td>5.6</td>
    </tr>
    <tr>
      <th>1960-03-31</th>
      <td>2847.699</td>
      <td>2.31</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>1960-06-30</th>
      <td>2834.390</td>
      <td>0.14</td>
      <td>5.2</td>
    </tr>
    <tr>
      <th>1960-09-30</th>
      <td>2839.022</td>
      <td>2.70</td>
      <td>5.6</td>
    </tr>
    <tr>
      <th>1960-12-31</th>
      <td>2802.616</td>
      <td>1.21</td>
      <td>6.3</td>
    </tr>
    <tr>
      <th>1961-03-31</th>
      <td>2819.264</td>
      <td>-0.40</td>
      <td>6.8</td>
    </tr>
    <tr>
      <th>1961-06-30</th>
      <td>2872.005</td>
      <td>1.47</td>
      <td>7.0</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
data.stack().reset_index()
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>item</th>
      <th>0</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1959-03-31</td>
      <td>realgdp</td>
      <td>2710.349</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1959-03-31</td>
      <td>infl</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1959-03-31</td>
      <td>unemp</td>
      <td>5.800</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1959-06-30</td>
      <td>realgdp</td>
      <td>2778.801</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1959-06-30</td>
      <td>infl</td>
      <td>2.340</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1959-06-30</td>
      <td>unemp</td>
      <td>5.100</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1959-09-30</td>
      <td>realgdp</td>
      <td>2775.488</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1959-09-30</td>
      <td>infl</td>
      <td>2.740</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1959-09-30</td>
      <td>unemp</td>
      <td>5.300</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1959-12-31</td>
      <td>realgdp</td>
      <td>2785.204</td>
    </tr>
    <tr>
      <th>10</th>
      <td>1959-12-31</td>
      <td>infl</td>
      <td>0.270</td>
    </tr>
    <tr>
      <th>11</th>
      <td>1959-12-31</td>
      <td>unemp</td>
      <td>5.600</td>
    </tr>
    <tr>
      <th>12</th>
      <td>1960-03-31</td>
      <td>realgdp</td>
      <td>2847.699</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1960-03-31</td>
      <td>infl</td>
      <td>2.310</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1960-03-31</td>
      <td>unemp</td>
      <td>5.200</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1960-06-30</td>
      <td>realgdp</td>
      <td>2834.390</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1960-06-30</td>
      <td>infl</td>
      <td>0.140</td>
    </tr>
    <tr>
      <th>17</th>
      <td>1960-06-30</td>
      <td>unemp</td>
      <td>5.200</td>
    </tr>
    <tr>
      <th>18</th>
      <td>1960-09-30</td>
      <td>realgdp</td>
      <td>2839.022</td>
    </tr>
    <tr>
      <th>19</th>
      <td>1960-09-30</td>
      <td>infl</td>
      <td>2.700</td>
    </tr>
    <tr>
      <th>20</th>
      <td>1960-09-30</td>
      <td>unemp</td>
      <td>5.600</td>
    </tr>
    <tr>
      <th>21</th>
      <td>1960-12-31</td>
      <td>realgdp</td>
      <td>2802.616</td>
    </tr>
    <tr>
      <th>22</th>
      <td>1960-12-31</td>
      <td>infl</td>
      <td>1.210</td>
    </tr>
    <tr>
      <th>23</th>
      <td>1960-12-31</td>
      <td>unemp</td>
      <td>6.300</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1961-03-31</td>
      <td>realgdp</td>
      <td>2819.264</td>
    </tr>
    <tr>
      <th>25</th>
      <td>1961-03-31</td>
      <td>infl</td>
      <td>-0.400</td>
    </tr>
    <tr>
      <th>26</th>
      <td>1961-03-31</td>
      <td>unemp</td>
      <td>6.800</td>
    </tr>
    <tr>
      <th>27</th>
      <td>1961-06-30</td>
      <td>realgdp</td>
      <td>2872.005</td>
    </tr>
    <tr>
      <th>28</th>
      <td>1961-06-30</td>
      <td>infl</td>
      <td>1.470</td>
    </tr>
    <tr>
      <th>29</th>
      <td>1961-06-30</td>
      <td>unemp</td>
      <td>7.000</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>579</th>
      <td>2007-06-30</td>
      <td>realgdp</td>
      <td>13203.977</td>
    </tr>
    <tr>
      <th>580</th>
      <td>2007-06-30</td>
      <td>infl</td>
      <td>2.750</td>
    </tr>
    <tr>
      <th>581</th>
      <td>2007-06-30</td>
      <td>unemp</td>
      <td>4.500</td>
    </tr>
    <tr>
      <th>582</th>
      <td>2007-09-30</td>
      <td>realgdp</td>
      <td>13321.109</td>
    </tr>
    <tr>
      <th>583</th>
      <td>2007-09-30</td>
      <td>infl</td>
      <td>3.450</td>
    </tr>
    <tr>
      <th>584</th>
      <td>2007-09-30</td>
      <td>unemp</td>
      <td>4.700</td>
    </tr>
    <tr>
      <th>585</th>
      <td>2007-12-31</td>
      <td>realgdp</td>
      <td>13391.249</td>
    </tr>
    <tr>
      <th>586</th>
      <td>2007-12-31</td>
      <td>infl</td>
      <td>6.380</td>
    </tr>
    <tr>
      <th>587</th>
      <td>2007-12-31</td>
      <td>unemp</td>
      <td>4.800</td>
    </tr>
    <tr>
      <th>588</th>
      <td>2008-03-31</td>
      <td>realgdp</td>
      <td>13366.865</td>
    </tr>
    <tr>
      <th>589</th>
      <td>2008-03-31</td>
      <td>infl</td>
      <td>2.820</td>
    </tr>
    <tr>
      <th>590</th>
      <td>2008-03-31</td>
      <td>unemp</td>
      <td>4.900</td>
    </tr>
    <tr>
      <th>591</th>
      <td>2008-06-30</td>
      <td>realgdp</td>
      <td>13415.266</td>
    </tr>
    <tr>
      <th>592</th>
      <td>2008-06-30</td>
      <td>infl</td>
      <td>8.530</td>
    </tr>
    <tr>
      <th>593</th>
      <td>2008-06-30</td>
      <td>unemp</td>
      <td>5.400</td>
    </tr>
    <tr>
      <th>594</th>
      <td>2008-09-30</td>
      <td>realgdp</td>
      <td>13324.600</td>
    </tr>
    <tr>
      <th>595</th>
      <td>2008-09-30</td>
      <td>infl</td>
      <td>-3.160</td>
    </tr>
    <tr>
      <th>596</th>
      <td>2008-09-30</td>
      <td>unemp</td>
      <td>6.000</td>
    </tr>
    <tr>
      <th>597</th>
      <td>2008-12-31</td>
      <td>realgdp</td>
      <td>13141.920</td>
    </tr>
    <tr>
      <th>598</th>
      <td>2008-12-31</td>
      <td>infl</td>
      <td>-8.790</td>
    </tr>
    <tr>
      <th>599</th>
      <td>2008-12-31</td>
      <td>unemp</td>
      <td>6.900</td>
    </tr>
    <tr>
      <th>600</th>
      <td>2009-03-31</td>
      <td>realgdp</td>
      <td>12925.410</td>
    </tr>
    <tr>
      <th>601</th>
      <td>2009-03-31</td>
      <td>infl</td>
      <td>0.940</td>
    </tr>
    <tr>
      <th>602</th>
      <td>2009-03-31</td>
      <td>unemp</td>
      <td>8.100</td>
    </tr>
    <tr>
      <th>603</th>
      <td>2009-06-30</td>
      <td>realgdp</td>
      <td>12901.504</td>
    </tr>
    <tr>
      <th>604</th>
      <td>2009-06-30</td>
      <td>infl</td>
      <td>3.370</td>
    </tr>
    <tr>
      <th>605</th>
      <td>2009-06-30</td>
      <td>unemp</td>
      <td>9.200</td>
    </tr>
    <tr>
      <th>606</th>
      <td>2009-09-30</td>
      <td>realgdp</td>
      <td>12990.341</td>
    </tr>
    <tr>
      <th>607</th>
      <td>2009-09-30</td>
      <td>infl</td>
      <td>3.560</td>
    </tr>
    <tr>
      <th>608</th>
      <td>2009-09-30</td>
      <td>unemp</td>
      <td>9.600</td>
    </tr>
  </tbody>
</table>
<p>609 rows × 3 columns</p>
</div>


<br>

```python
ldata = data.stack().reset_index().rename(columns = {0:'value'})
ldata[:10]
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>item</th>
      <th>value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1959-03-31</td>
      <td>realgdp</td>
      <td>2710.349</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1959-03-31</td>
      <td>infl</td>
      <td>0.000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1959-03-31</td>
      <td>unemp</td>
      <td>5.800</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1959-06-30</td>
      <td>realgdp</td>
      <td>2778.801</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1959-06-30</td>
      <td>infl</td>
      <td>2.340</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1959-06-30</td>
      <td>unemp</td>
      <td>5.100</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1959-09-30</td>
      <td>realgdp</td>
      <td>2775.488</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1959-09-30</td>
      <td>infl</td>
      <td>2.740</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1959-09-30</td>
      <td>unemp</td>
      <td>5.300</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1959-12-31</td>
      <td>realgdp</td>
      <td>2785.204</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
pivoted = ldata.pivot('date', 'item', 'value')
pivoted.head()
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>item</th>
      <th>infl</th>
      <th>realgdp</th>
      <th>unemp</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1959-03-31</th>
      <td>0.00</td>
      <td>2710.349</td>
      <td>5.8</td>
    </tr>
    <tr>
      <th>1959-06-30</th>
      <td>2.34</td>
      <td>2778.801</td>
      <td>5.1</td>
    </tr>
    <tr>
      <th>1959-09-30</th>
      <td>2.74</td>
      <td>2775.488</td>
      <td>5.3</td>
    </tr>
    <tr>
      <th>1959-12-31</th>
      <td>0.27</td>
      <td>2785.204</td>
      <td>5.6</td>
    </tr>
    <tr>
      <th>1960-03-31</th>
      <td>2.31</td>
      <td>2847.699</td>
      <td>5.2</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
ldata['value2'] = np.random.randn(len(ldata))
ldata[:10]
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>date</th>
      <th>item</th>
      <th>value</th>
      <th>value2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1959-03-31</td>
      <td>realgdp</td>
      <td>2710.349</td>
      <td>-1.496786</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1959-03-31</td>
      <td>infl</td>
      <td>0.000</td>
      <td>0.544163</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1959-03-31</td>
      <td>unemp</td>
      <td>5.800</td>
      <td>0.052261</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1959-06-30</td>
      <td>realgdp</td>
      <td>2778.801</td>
      <td>-0.938950</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1959-06-30</td>
      <td>infl</td>
      <td>2.340</td>
      <td>-0.312907</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1959-06-30</td>
      <td>unemp</td>
      <td>5.100</td>
      <td>-0.275937</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1959-09-30</td>
      <td>realgdp</td>
      <td>2775.488</td>
      <td>0.309263</td>
    </tr>
    <tr>
      <th>7</th>
      <td>1959-09-30</td>
      <td>infl</td>
      <td>2.740</td>
      <td>-0.911590</td>
    </tr>
    <tr>
      <th>8</th>
      <td>1959-09-30</td>
      <td>unemp</td>
      <td>5.300</td>
      <td>-1.464725</td>
    </tr>
    <tr>
      <th>9</th>
      <td>1959-12-31</td>
      <td>realgdp</td>
      <td>2785.204</td>
      <td>0.525421</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
pivoted = ldata.pivot('date', 'item')
pivoted.head()
```




<div>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="3" halign="left">value</th>
      <th colspan="3" halign="left">value2</th>
    </tr>
    <tr>
      <th>item</th>
      <th>infl</th>
      <th>realgdp</th>
      <th>unemp</th>
      <th>infl</th>
      <th>realgdp</th>
      <th>unemp</th>
    </tr>
    <tr>
      <th>date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1959-03-31</th>
      <td>0.00</td>
      <td>2710.349</td>
      <td>5.8</td>
      <td>0.544163</td>
      <td>-1.496786</td>
      <td>0.052261</td>
    </tr>
    <tr>
      <th>1959-06-30</th>
      <td>2.34</td>
      <td>2778.801</td>
      <td>5.1</td>
      <td>-0.312907</td>
      <td>-0.938950</td>
      <td>-0.275937</td>
    </tr>
    <tr>
      <th>1959-09-30</th>
      <td>2.74</td>
      <td>2775.488</td>
      <td>5.3</td>
      <td>-0.911590</td>
      <td>0.309263</td>
      <td>-1.464725</td>
    </tr>
    <tr>
      <th>1959-12-31</th>
      <td>0.27</td>
      <td>2785.204</td>
      <td>5.6</td>
      <td>-0.207571</td>
      <td>0.525421</td>
      <td>-0.169162</td>
    </tr>
    <tr>
      <th>1960-03-31</th>
      <td>2.31</td>
      <td>2847.699</td>
      <td>5.2</td>
      <td>-0.249305</td>
      <td>1.703023</td>
      <td>-1.052131</td>
    </tr>
  </tbody>
</table>
</div>


<br>

```python
import matplotlib.pyplot as plt
```

<br>

```python
%matplotlib inline
x = np.arange(0, 5, 0.1)
y = np.sin(x)
plt.plot(x, y)
#plt.show()
```




    [<matplotlib.lines.Line2D at 0x7fcff12ad150>]




![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_67_1.png)


<br>

```python
%magic %matplotlib
```

<br>

```python
%history
```

<br>

```python
del fig, axes
```

<br>

```python
fig, axes = plt.subplots(2, 2, sharex = True, sharey = True)
#fig, axes
for i in range(2):
    for j in range(2):
        axes[i, j].hist(np.random.randn(500), bins = 50, color = 'k', alpha = 0.5)
plt.subplots_adjust(wspace = 0, hspace = 0)
plt.show()
```


![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_71_0.png)


<br>

```python
data = np.random.randn(30).cumsum()
data
```




    array([ -1.36829903,   0.0378638 ,  -1.61558594,  -0.7463864 ,
             0.29292165,   0.74652387,  -0.14435596,  -0.67857595,
             0.79689497,   2.02588793,   1.04277121,   0.49636207,
             2.26514121,   2.62462768,   3.13682425,   4.16712492,
             3.48988834,   3.85219731,   5.7999979 ,   6.77441884,
             7.36862909,   8.50668573,   9.01314308,   9.60028501,
             9.85022972,  10.10198393,  10.75219478,  11.61647173,
            11.57239387,  13.57546   ])



<br>

```python
plt.plot(data, 'k--', label = 'Default')
```




    [<matplotlib.lines.Line2D at 0x7fcfe61c8d50>]




![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_73_1.png)

<br>

```python
plt.plot(data, 'k--', drawstyle = 'steps-post', label = 'steps-post')
#plt.plot(data, 'k--', drawstyle = 'steps-post')
```




    [<matplotlib.lines.Line2D at 0x7fcfe5f13f90>]




![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_74_1.png)

<br>

```python
plt.plot(data, 'k--', drawstyle = 'steps-post', label = 'steps-post')
plt.legend(loc = 'best')
#plt.show()
```




    <matplotlib.legend.Legend at 0x7fcfe4f56f90>




![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_75_1.png)

<br>

```python
fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)
ax.plot(np.random.randn(1000).cumsum())
ticks = ax.set_xticks([0, 250, 500, 750, 1000])
labels = ax.set_xticklabels(['one', 'two', 'three', 'four', 'five'], rotation = 30, fontsize = 'small')
ax.set_xlabel('stage')
plt.show()
```


![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_76_0.png)

<br>

```python
fig = plt.figure()
ax = fig.add_subplot(1, 1, 1)
ax.plot(np.random.randn(300).cumsum(), 'b', label = 'one')
ax.plot(np.random.randn(300).cumsum(), 'g--', label = 'two')
ax.plot(np.random.randn(300).cumsum(), 'r.', label = 'three')
ax.legend(loc = 'best')
```




    <matplotlib.legend.Legend at 0x7fcfe48e3fd0>




![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_77_1.png)

<br>

```python
# 파일 저장
plt.savefig('figpath.svg')
plt.savefig('figpath.png', dpi = 400, bbox_inches = 'tight')
```


    <matplotlib.figure.Figure at 0x7fcfe481f990>

<br>

```python
from io import BytesIO
buffer = BytesIO()
plt.savefig(buffer)
```


    <matplotlib.figure.Figure at 0x7fcfe4812b50>

<br>

```python
plot_data = buffer.getvalue()
plot_data
plt.show()
```

<br>

```python
import seaborn as sns
```

<br>

```python
np.round(x, 0)
```




    array([  0.,   1.,   2.,   3.,   4.,   6.,   7.,   8.,   9.,  10.])


<br>

```python
y
```




    array([   0.,    1.,    4.,    9.,   16.,   36.,   49.,   64.,   81.,  100.])


<br>

```python
x = np.linspace(0, 10, 10)
y = np.power(np.round(x, 0), 2)
plt.plot(np.round(x, 0), y)
plt.show()
```


![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_84_0.png)


<br>

```python
plt.scatter(x, y)
```




    <matplotlib.collections.PathCollection at 0x7fcfd894aa10>




![png]({{ site.baseurl }}/images/python_acorn/2017-06-10-acorn78_2_170227_files/2017-06-10-acorn78_2_170227_85_1.png)
