<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>dddd</title>
    <!-- <script src="Scripts/angular.js"></script>
    <script src="Scripts/angular-route.js"></script>
    <link href="Content/bootstrap.css" rel="stylesheet" /> -->
	 <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
	 <script src = "https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-route.min.js"></script>
	 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>

<body ng-app="ngRoutingDemo">
    <h1>Angular Routing Demo</h1>
    <div ng-view></div>

    <script>
        var app = angular.module('ngRoutingDemo', ['ngRoute']);

        app.config(['$routeProvider', function ($routeProvider) {

            $routeProvider
				.when('/', {
                templateUrl: '/login.html',
                controller: 'loginController'
            })
				.when('/student/:username123', {
                templateUrl: '/student.html',
                controller: 'studentController'
            })
				.otherwise({
                redirectTo: "/"
            });
		}]);

        app.controller("loginController", function ($scope, $location) {
			  // login.html에서 ng-click="authenticate(userName)을 하면
			  // 밑의 authenticate가 실행되면서
			  // $location.path에서 지정된 곳으로 이동
			  //브라우저 path를 /student/로 이동
			  // http://webframeworks.kr/tutorials/angularjs/angularjs_router/
            $scope.authenticate = function (username123) {
                // write authentication code here..
                $location.path('/student/' + username123)
            };
        });

        app.controller("studentController", function ($scope, $routeParams) {
            $scope.username123 = $routeParams.username123;
        });

    </script>
</body>
</html>
